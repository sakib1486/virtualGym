# Project Requirements

## Executive Summary

The website will be a back-end repository that features a dashboard of game statistics for the Virtual Gym exergame platform. The essential functionality of our product is to develop the necessary software to retrieve and store Virtual Gym’s game session logs in a central repository and analyze the data to extract indicators of an individual’s performance and progress. The data extracted data will be visualized using numbers, images and/or graphs. The users of the product will be the Virtual Gym software team and the users of the Virtual Gym platform to view their game statistics. Some of the game statistics that users will be able to view are: number of hits and misses on targets, average joint speed, game session time period, average target time and functional mobility indicators. The product will be used to store, analyze and view game session data in an easily accessible dashboard using a simple and minimalistic theme with a high contrast color schemes for increased usability and readability. 

## Project Glossary

- **Games** - The six games provided by the Virtual Gym exergame: Bubbles, Balloons, Climbing, Flying Rings, Archery and Slice Saber.
> 1. **Bubbles** - A game where the player must stretch and use both hands to reach the in-game target bubbles.
> 2. **Balloons** - A game where the player uses the left hand to pop and the right hand to push the in-game target balloons around.
> 3. **Climbing** - A game where the player reaches and stretches to climb an in-game mountain.
> 4. **Flying RIngs** - A game where the player follows in-game flying rings while moving around the in-game environment.
> 5. **Archery** - A game where the player shoots at targets using a bow and arrow.
> 6. **Slice Saber** - A game where the player must slice in-game colored blocks with two in-game lightsabers in each hand.

- **Game session** - When the user plays a single round/match of an individual game 

- **Logs** - Session logs generated by the Virtual Gym exergame that is collected and stored locally in the Oculus device.

- **Prescription** - a log file that contains the editable settings of the games

- **Metrics or Statistics** - game statistics that will be extracted from the session logs. The metrics include: number of hits and misses, average target hit time, joint speed and space coverage

- **Joint Speed** - The measured speed that the user’s joints are moving at while they are playing the games. Can be measured in a single point in time or as an average across a game session. Each joint’s speed value is calculated separately.

- **Target** - In-game entities that the users are motivated to come into contact or strike with during gameplay.

- **Hits** - When the user successfully comes into contact with one of the in-game targets during gameplay.

- **Misses** - When the user misses contact with one of the in-game targets during gameplay.

- **Administrators** - The client’s software team users that oversees the Virtual Gym platform.

- **Caretakers** - the user who will prescribe the games to the players or users

- **Players or Users** - The users that interact with and play the games provided in the Virtual Gym platform.

## User Stories

### User Story Sections:
> 1. US 1.0.# & US 2.0.# - Authentication
> 2. US 3.0.# - Main Dashboard page
> 3. US 4.0.# - Game Performance
> 4. US 5.0.# - Functional Mobility
> 5. US 6.0.# - Show/Hide Statistics
> 6. US 7.0.# - User Settings
> 7. US 8.0.# - Administrator functions

### US 1.0.1 - Web Access
> **As** a User, **I want** to be able to access the application from a desktop browser, **so that** so that I can use the application from my computer.

> **Acceptance Tests**

> 1. Entering the given URL on a web browser directs the user to the correct application.

### US 2.0.1 - Login with Google
> **As** a User, **I want** to be able to log in using google credentials, **so that** I can access the app.

> **Acceptance Tests**

> 1. Login as user with existing google credentials.
> 2. Login only with the approved account.

### US 2.0.2 - Sign up with Google
> **As** a User, **I want** to be able to sign up with existing google account, **so that** I can create an account to access the app.

> **Acceptance Tests**

> 1. Be able to create an accounting using an existing google email. 

### US 2.0.3 - Forgot Password
> **As** a User, **I want** to be able to change my password from the login screen, **so that** I can reset my password when I forget my password.
> 
> **Acceptance Tests**
> 
> 1. There should be a forget my password button on the log in page.
> 2. After typing an existing user's email, the user should receive a confirmation email that allows them to reset their password. 
> 3. Entering in an email that does not exist in the system will produce an error stating user does not exist in system.

### US 2.0.4 - Logout
> **As** a User, **I want** to be able to log out, **so that** I can exit from the current account.

> **Acceptance Tests**

> 1. There should be a button that allows the user to log out on every page except the login and sign up page.
> 2. After logging out, the user should not be able to access the system unless they log in again.


### US 2.0.5 - Login with Password
> **As** a User, **I want** to be able to log in using my email, **so that** I can access the app.

> **Acceptance Tests**

> 1. Login as user with existing email and password.
> 2. Entering in invalid email and password will not log the user in.
> 3. > 2. Login only with the approved account.


### US 2.0.6 - Sign up with Password
> **As** a User, **I want** to be able to sign up with my email, **so that** I can create an account to access the app.

> **Acceptance Tests**

> 1. Input a valid email and additional information such as first name, last name and username and be able to create an account. 
> 2. Input invalid or missing information will not allow the user to create an account (ie: already existing username or email).
> 3. Entered password must contain at least 8 characters, uppercase and lowercase letters, at least a number and a symbol.


### US 3.0.1 - Progress Dashboard
> **As** a User, **I want** to be able to see a dashboard that shows my progress, **so that** I can see how well I played the games.

> **Acceptance Tests**

> 1. Show a list of completed sessions.
> 2. For each session listed, show the game name and the time spent on the games using start and end time stamps.
> 3. Be able to select a session to view its session details.
> 4. Link between the session, game performance and functional mobility indicators in session details.
> 5. User should be able to see dashboard visualizations of the game statistics as graphs, charts and or images in session details.

### US 3.0.2 - View Time Spent on Game or Session
> **As** a User, **I want** to be able to see the amount of time I spent on my game sessions, **so that** I can see how long I have played for.

> **Acceptance Tests**

> 1. Users should be able to see the time spent as start and end timestamps. 
> 2. User should be able to see time spent for each game session.

### US 3.0.3 - Compare Progress
> **As** a User, **I want** to compare my game session data between different days and/or weeks, **so that** I can see how well I performed over a period of time.

> **Acceptance Tests**

> 1. Users should be able to view their statistics from a current game session and a previous game session beside each other.

### US 3.0.4 - Search Game Sessions
> **As** a user, **I want** to be able to search my game sessions by date and game name **so that** I can find the game session I am looking for.

> **Acceptance Tests**

> 1. User should be able to enter a date and/or game name and have the system output the game sessions matching the search query.

### US 3.0.5 - Filter Game Sessions
> **As** a caretaker or administrator, **I want** to be able to filter my game sessions by date and/or game name, **so that** I can organize and find my game sessions.

> **Acceptance Tests**

> 1. A filter option should be available that can filter by date, player name and/or game played.

### US 4.0.1 - Game Performance
> **As** a User, **I want** to see my game performance metrics for how well I performed in a game, **so that** I can see how I can improve.

> **Acceptance Tests**

> 1. Users should be able to view the hits and misses per game session. 
> 2. Users should be able to see the average target time for each game session.

### US 4.0.2 - View Hits and Misses
> **As** a User, **I want** to be able to see the amount of hits and misses from my game sessions, **so that** I can see how well I touched the targets in the game.

> **Acceptance Tests**

> 1. Users should be able to see the number of hits and misses on in-game targets as percentages and/or as numbers according to which game they have played.

### US 4.0.3 - Average target time
> **As** a User, **I want** to see the average time between a target appearing and a target being hit from my game sessions, **so that** I can see how fast I am hitting the targets.

> **Acceptance Tests**

> 1. Users should be able to see the the average time in seconds.

### US 5.0.1 - Functional Mobility Indicators
> **As** a User, **I want** to see my functional mobility indicators **so that** I can view how fast and how far I can move my joints.

> **Acceptance Tests**

> 1. Users should be able to see individual joint speed at a specific point in time
> 2. Users should be able to see the average speed of individual joints
> 3. Users should be notified which areas they can improve or doing well at
> 4. Users should be able to see their overall space coverage (the biggest polygon that covers the session)

### US 6.0.1 - Show or Hide Statistics
> **As** a user, **I want**  to be able to choose what metric I want to see on my dashboard **so that** I can choose what I want to see

> **Acceptance Tests**

> 1. Users should be able to show or hide a metric on the session details page by selecting a button to expand or collapse the field.
> 2. By metric, this refers to the metrics such as hits/misses, joint speed, average target time and space coverage.

### US 6.0.2 - Show Metric Description
> **As** a user, **I want** to see a description for each metrics **so that** I know what each metric means

> **Acceptance Tests**

> 1. Users should be able to see a description of the metric describing what it means

### US 7.0.1 - View User Settings
> **As** a user, **I want**  to be able to view my user profile settings **so that** I can update information related to my account

> **Acceptance Tests**

> 1. Users should be able to access their user settings by selecting a button from anywhere on our system other than the login and sign up pages.
> 2. Users should be able to view their own user profile information such as first name, last name and email.

### US 7.0.2 - Change user password
> **As** a user, **I want**  to be able to change my own password **so that** I can have a more secure password.

> **Acceptance Tests**

> 1. User should be able to change their password from their user settings.

### US 8.0.1 - View All Users
> **As** an administrator, **I want** to see a list of all users **so that** I can see how many users use our system

> **Acceptance Tests**

> 1. Administrators should see a page where it shows the list of all users.


### US 8.0.2 - Search Users
> **As** an administrator, **I want** to search a user by their name **so that** I can see their user information

> **Acceptance Tests**

> 1. Should provide a search bar that can search the list of users.
> 2. Inputing a user's first name, last name or username should pull up the specific user profile when selected.
> 3. View a user's associated sessions.


### US 8.0.3 - Edit or Approve Users
> **As** an administrator, **I want** to be able to edit or approve users **so that** I can update their information and confirm the user's account as a valid user profile

> **Acceptance Tests**

> 1. Be able to open and view specific user profile.
> 2. Be able to edit the fields: username, first name and last name and email.
> 3. Be able to approve a user with a button press or checkbox.
> 4. Save edited fields.


### US 8.0.4 - Remove or Delete Users
> **As** an administrator, **I want** to be able to remove or delete users **so that** I can remove users who no longer participate in Virtual Gym

> **Acceptance Tests**

> 1. Be able to select users and remove or delete them with a button press
> 2. Should have a delete confirmation to re-confirm and warn administrators of deleting a user

### US 8.0.5 - Notify Admin of New or Unapproved users
> **As** an administrator, **I want** to be notified when a new user account is made **so that** I can approve their account to be used in the system

> **Acceptance Tests**

> 1. After a user signs-up in the system send a notification to the administrators so that their account can be approved
> 2. The administrators should be able to see a list of users separated by who has or has not been approved

### US 8.0.6 - Navigate to Django Admin page
> **As** an administrator, **I want** navigate to Django admin page **so that** I can modify user accounts to be used in the system

> **Acceptance Tests**

> 1. The administrators should be able to clicking the Django admin button to navigate into the Django admin page 


## MoSCoW
### Must Have
* US 2.0.1 - Login with Google
* US 2.0.2 - Sign up with Google
* US 2.0.4 - Logout
* US 2.0.5 - Login with Password
* US 2.0.6 - Sign up with Password
* US 3.0.1 - Progress Dashboard
* US 3.0.2 - View Time Spent on Game or Session
* US 4.0.1 - Game Performance
* US 4.0.2 - View Hits and Misses
* US 4.0.3 - Average target time
* US 5.0.1 - Functional Mobility Indicators


### Should Have
* US 1.0.1 - Web Access
* US 3.0.3 - Compare Progress
* US 3.0.4 - Search Game Sessions
* US 3.0.5 - Filter Game Sessions
* US 6.0.1 - Show or Hide Statistics
* US 7.0.2 - Change user password
* US 8.0.1 - View All Users
* US 8.0.5 - Notify Admin of New or Unapproved users


### Could Have
* US 2.0.3 - Forgot Password
* US 6.0.2 - Show Metric Description
* US 7.0.1 - View User Settings
* US 7.0.2 - Change user password
* US 8.0.2 - Search Users
* US 8.0.3 - Edit or Approve Users
* US 8.0.4 - Remove or Delete Users
* US 8.0.6 - Navigate to Django Admin page


### Would Like But Won't Get
* None


## Minimum Viable Prototype Specification
The main goal of our minimum viable prototype is to establish the basic structure of the system in order to support all "Must have" user stories. This includes the implementation of the backend communication with the database server, a functioning interface to represent the data and the main requirements outlined as user stories. The user stories that will be completed for the minimum viable product are :
* US 2.0.1 - Login with Google
* US 2.0.2 - Sign up with Google
* US 2.0.4 - Logout
* US 2.0.5 - Login with Password
* US 2.0.6 - Sign up with Password
* US 3.0.1 - Progress Dashboard
* US 3.0.2 - View Time Spent on Game or Session
* US 3.0.4 - Search Game Sessions
* US 4.0.1 - Game Performance
* US 4.0.2 - View Hits and Misses
* US 4.0.3 - Average target time
* US 5.0.1 - Functional Mobility Indicators


## Similar Products
* [MyFitnessPal](https://play.google.com/store/apps/details?id=com.myfitnesspal.android&hl=en_CA&gl=US)
    - Popular fitness application that shares some similarities with our application, namely, uses gamification to motivate users and also provides personalized and customizable dashboards for the users.
* [Strava](https://apps.apple.com/us/app/strava-run-ride-swim/id426826309)
    - Popular fitness application with an emphasis on collecting and analysing data, features various types of performance visualizations. Could be used as a point of reference for our dashboard visualizations. Also features data logging and data analysing features which we can refer to, 
* [FitnessView](https://apps.apple.com/us/app/fitnessview-activity-tracker/id1531983371)
    - IOS fitness application with a heavy emphasis on data visualization. Displays fitness data dashboard style. Could be used as a point of reference for our dashboard visualizations. 

*We have asked the client for other existing products that he would potentially want us to emulate or use as a reference point, he has not yet gotten back to us but we will update this section as soon as we hear back from him.*

## Open-source Projects
* [ForRunners](https://gitlab.com/brvier/ForRunners)
    - Open Source fitness mobile application used to improve running. Analyzes various aspects of the user's running data and compiles the statistics into visualizations. Visualizations could serve as inspiration for us, and we will also be able to see the underlying mechanisms of the dashboard functionality given the open source nature of the project.

* [Quickfit-app](https://github.com/nrrs/quickfit-app)
    - Quickfit app is an exercise generator that allows a user to keep track of workouts, add and select exercise, generate or customize workouts and store and review progress. The project also uses similar technologies as our current system such as Django for backend and React Native for frontend. The project can be used to review the project structure for frontend and backend, how the "store and review progress" session would work and how workout data is collected.

*We have asked the client for other existing open source projects that he would potentially want us to emulate or use as a reference point, he has not yet gotten back to us but we will update this section as soon as we hear back from him.*

## Technical Resources
### Backend: Django, PostgreSQL
> We selected Django as our backend framework, as many team members already have experience with the framework, and it's also has a reputation for being a highly scalable and flexible framework that we can leverage to adapt to our needs. Also, due to it's popularity, Django documentation is accessible and plentiful, and working with a framework that has robust documentation always takes the burden off development.
> We selected PostgreSQL as our database over the standard SQLite that Django comes out of the box with, as PostgreSQL allows for more robust and complex operations, so we are less likely to be bottlenecked by a less powerful database. One of the things we plan to leverage is the JSONField field type that comes with PostgreSQL and Django, but is not an option with SQLite. 
  * [Django](https://docs.djangoproject.com/en/4.0/)
      * [Django REST framework](https://www.django-rest-framework.org/)
      * [Django ORM](https://docs.djangoproject.com/en/4.0/topics/db/queries/)
  * [PostgreSQL](https://www.postgresql.org/docs/)
      * [Django SQLite to PostgreSQL migration](https://medium.com/djangotube/django-sqlite-to-postgresql-database-migration-e3c1f76711e1)
      * [Exclusive PostgreSQL features in Django](https://docs.djangoproject.com/en/4.0/ref/contrib/postgres/)
      * [Django PostgreSQL Migrations](https://docs.djangoproject.com/en/4.0/topics/migrations/)
### Deployment: Heroku
> We selected Heroku as our deployment platform, as this is a deployment platform that many team members have familiarity with, including experience in deploying specifically Django applications to Heroku. 
  * [Heroku Dev Center](https://devcenter.heroku.com/)
      * [Deploying Python and Django applications to Heroku](https://devcenter.heroku.com/articles/deploying-python)
### Frontend: React 
> We selected React as our frontend framework since it is known to be a highly scalable framework that we can use to mold to our needs. Similar to Django, it's also a very popular framework and has plenty of online documentation that we can easily refer to.
  * [React](https://reactjs.org/docs/getting-started.html)
      * [Django and React integration](https://www.geeksforgeeks.org/how-to-connect-django-with-reactjs/)
      * [npm](https://docs.npmjs.com/)
      * [JSX](https://reactjs.org/docs/introducing-jsx.html)
      * [Django REST and React](https://www.valentinog.com/blog/drf/)
      * [React Hooks](https://reactjs.org/docs/hooks-intro.html)
### Resources provided by client
  * [GDD Virtual Gym Document](https://docs.google.com/document/d/1Ykg52mN2SQYWL8emf6SDrA9pC21I_vqSQ5G9nXMbx4s/)
